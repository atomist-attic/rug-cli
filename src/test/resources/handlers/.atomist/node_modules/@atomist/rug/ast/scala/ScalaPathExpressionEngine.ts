
import {TreeNode} from "../../tree/PathExpression"
import {DecoratingPathExpressionEngine} from "../../tree/DecoratingPathExpressionEngine"

import * as scala from "./Types"

/**
 * PathExpressionEngine decorator that returns Scala type mixins
 * from all methods.
 */
export class ScalaPathExpressionEngine extends DecoratingPathExpressionEngine {

    protected decoratorFor(n: TreeNode): any {
        let className = this.decoratorClassName(n)
        // Dynamically instantiate the class with the given name in the
        // target module
        let ops = new scala[className](n, this.delegate)
        return ops
    }
}