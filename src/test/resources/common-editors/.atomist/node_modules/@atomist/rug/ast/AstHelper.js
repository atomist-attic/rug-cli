"use strict";
var TreeHelper_1 = require("../tree/TreeHelper");
/**
 * Superclass for working with ASTs
 */
var AstHelper = (function () {
    function AstHelper(pexe) {
        this.pexe = pexe;
        this.treeHelper = new TreeHelper_1.TreeHelper();
    }
    /**
     * Reparse this file, given the type and return the top level node.
     */
    AstHelper.prototype.reparseNodeUnderFile = function (languageNode, type) {
        var f = this.treeHelper.findAncestorWithTag(languageNode, "File");
        if (f) {
            var pathExpression = "/" + type + "()";
            var r = this.pexe.scalarStr(f, pathExpression);
            //console.log(`Reparsed=${r}`)
            return r;
        }
        else {
            throw new Error("Cannot find File parent");
        }
    };
    return AstHelper;
}());
exports.AstHelper = AstHelper;
